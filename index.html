{% extends "base.html" %}

{% block title %}TODO ãƒªã‚¹ãƒˆ - ãƒ›ãƒ¼ãƒ {% endblock %}

{% block content %}
<div class="todo-list">
    <h2>ã‚„ã‚‹ã“ã¨ãƒªã‚¹ãƒˆ</h2>
    
    {% if todos %}
        <div class="todo-grid">
            {% for todo in todos %}
                <div class="todo-card">
                    <div class="todo-header">
                        <h3>{{ todo.title }}</h3>
                        <span class="todo-id">ID: {{ todo.id }}</span>
                    </div>
                    
                    <div class="todo-content">
                        <p>{{ todo.content if todo.content else 'å†…å®¹ãªã—' }}</p>
                    </div>
                    
                    <div class="todo-footer">
                        <div class="todo-date">
                            {% if todo.due_date %}
                                <span class="due-date">ğŸ“… æœŸæ—¥: {{ todo.due_date }}</span>
                            {% else %}
                                <span class="no-date">æœŸæ—¥æœªè¨­å®š</span>
                            {% endif %}
                        </div>
                        
                        <div class="todo-actions">
                            <a href="{{ url_for('edit_todo', todo_id=todo.id) }}" class="btn btn-edit">ç·¨é›†</a>
                            <a href="{{ url_for('delete_todo', todo_id=todo.id) }}" 
                               class="btn btn-delete" 
                               onclick="return confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')">å‰Šé™¤</a>
                        </div>
                    </div>
                    
                    <div class="todo-meta">
                        <small>ä½œæˆ: {{ todo.created_at if todo.created_at else 'ä¸æ˜' }}</small>
                        {% if todo.updated_at %}
                            <small>æ›´æ–°: {{ todo.updated_at }}</small>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <p>ã¾ã TODOãŒã‚ã‚Šã¾ã›ã‚“</p>
            <a href="{{ url_for('add_todo') }}" class="btn btn-primary-large">æœ€åˆã®TODOã‚’è¿½åŠ </a>
        </div>
    {% endif %}
</div>
{% endblock %}

